/*! Feloader v1.1.0 | a simple front-end file/Resources (queue) loader | MIT License | By: Pandao | https://github.com/pandao/feloader | 2014-12-04 */
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require,exports,module):"function"==typeof define?define(a):a(function(){},window.feloader={},{})}(function(a,b){var c=b,d=document.getElementsByTagName("head")[0];b.index=0,b.count=0,b.queues=[],b.map=[],b.appendTo="body",b.queue=function(a){return c.queues=a,"object"==typeof a&&a.length&&(c.count=a.length,c.queueLoad()),c},b.queueLoad=function(){var a=c.queues[c.index],b=a.url;/.css/.test(b)?c.loadCSS(a):/.jpg|.jpeg|.png|.gif|.webp/.test(b)?c.loadImage(a):c.loadScript(a)},b.loadScript=function(a){var b=/.js$/.test(a.url)?a.url:a.url+".js";if(c.map[b])console.info("[Feloader] [info] "+b+" is loaded, break;"),c.index++,c.queueLoad();else{var e=document.createElement("script");e.setAttribute("charset","utf-8"),e.type="text/javascript","undefined"!=typeof a.before&&c.beforeHandler(a),e.onload=e.onreadystatechange=function(){c.map[b]=b,c.callbackHandler(a)},e.onerror=function(){c.errorHandler(b)},e.src=b;var f="undefined"==typeof a.appendTo?c.appendTo:a.appendTo;"body"==f?document.body.appendChild(e):"head"==f&&d.appendChild(e)}return c},b.loadCSS=function(a){var b=/.css$/.test(a.url)?a.url:a.url+".css";if(c.map[b])console.info("[Feloader] [info] "+b+" is loaded, break;"),c.index++,c.queueLoad();else{var e=document.createElement("link");e.rel="stylesheet",e.type="text/css","undefined"!=typeof a.before&&c.beforeHandler(a),e.onload=e.onreadystatechange=function(){c.map[b]=b,c.callbackHandler(a)},e.onerror=function(){c.errorHandler(b)},e.href=b,d.appendChild(e)}return c},b.loadImage=function(a){var b=new Image;return"undefined"!=typeof a.before&&c.beforeHandler(a),b.onload=function(){var d="undefined"==typeof a.appendTo||"body"==a.appendTo?document.body:a.appendTo;"undefined"!=typeof a.width&&(b.width=a.width),"undefined"!=typeof a.height&&(b.height=a.height),"undefined"!=typeof a.before&&(d.innerHTML=""),d.appendChild(b),c.callbackHandler(a)},b.onerror=function(){c.errorHandler(a.url)},b.src=a.url,c},b.beforeHandler=function(a){var b=a.before||function(){return!0};b(a)},b.callbackHandler=function(a){var b=a.wait||!1,d=a.callback||function(){return!0};b?d(a)&&c.index<c.count-1&&(c.index++,c.queueLoad()):(d(a),c.index<c.count-1&&(c.index++,c.queueLoad())),console.log(c.map)},b.errorHandler=function(a){console&&console.error("[Feloader] [Error] Can't load file "+a+".")}});